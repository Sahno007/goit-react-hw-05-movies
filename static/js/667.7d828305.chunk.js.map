{"version":3,"file":"static/js/667.7d828305.chunk.js","mappings":"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","sources":["components/MovieListByName/MovieDetalis/MovieDetalisStyle.styled.js","components/MovieListByName/MovieDetalis/MovieDetalisContainerStyle.styled.js","components/MovieListByName/MovieDetalis/MovieDetalisMoreInfoLinks.styled.js","components/MovieListByName/MovieDetalis/MovieDetails.jsx","components/services/moviedb.js"],"sourcesContent":["import { styled } from 'styled-components';\n\nexport const MovieDetalisStyle = styled.div`\n  display: flex;\n  align-items: start;\n  column-gap: 20px;\n  margin-top: 20px;\n`;","import { styled } from 'styled-components';\n\nexport const MovieDetalisContainerStyle = styled.div`\n  padding-top: 140px;\n  ul {\n    list-style: none;\n  }\n`;","import { styled } from 'styled-components';\n\nexport const MovieDetalisMoreInfoLinks = styled.ul`\n  box-shadow: 0px 2px 1px rgba(46, 47, 66, 0.08),\n    0px 1px 1px rgba(46, 47, 66, 0.16), 0px 1px 6px rgba(46, 47, 66, 0.08);\n  padding-top: 15px;\n  padding-bottom: 15px;\n`;","import { useParams, Link, Outlet, useLocation } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { fetchMovieById } from 'components/services/moviedb';\nimport { MovieDetalisStyle } from './MovieDetalisStyle.styled';\nimport { MovieDetalisContainerStyle } from './MovieDetalisContainerStyle.styled';\nimport { MovieDetalisMoreInfoLinks } from './MovieDetalisMoreInfoLinks.styled';\n\nconst MovieDetails = () => {\n  const params = useParams();\n  const [film, setFilmId] = useState(null);\n  const location = useLocation();\n  const [lastPage, setLastPage] = useState('');\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    if (\n      location.pathname.includes('cast') ||\n      location.pathname.includes('reviews')\n    ) {\n      return;\n    }\n    if (location.state && location.state.from) {\n      setLastPage(location.state.from);\n    } else {\n      setLastPage('/');\n    }\n  }, [location]);\n\n  useEffect(() => {\n    setError('');\n    fetchMovieById(params.movieId)\n      .then(resp => {\n        if (!resp.ok) {\n          setError('Sorry, something went wrong');\n          throw new Error('Network response was not ok');\n        }\n        return resp.json();\n      })\n      .then(data => {\n        if (Object.keys(data).length === 0) {\n          setError(\"Sorry, we don't know this film \");\n          throw new Error('Film data not found');\n        }\n\n        setFilmId(data);\n      })\n      .catch(err => console.error(err));\n  }, [params.movieId]);\n\n  return (\n    <MovieDetalisContainerStyle>\n      <Link to={error ? '/' : lastPage}>Go back</Link>\n      {error && <h3>{error}</h3>}\n      {film && (\n        <MovieDetalisStyle>\n          <img\n            src={`https://image.tmdb.org/t/p/w400/${film.poster_path}`}\n            alt={film.title}\n          />\n          <div>\n            <h2>\n              {film.title} ({Number.parseInt(film.release_date)})\n            </h2>\n            <p>User score: {Math.round(film.vote_average * 10)}%</p>\n            <h3>Overview</h3>\n            <p>{film.overview}</p>\n            <h4>Genres</h4>\n            <p>{film.genres?.map(genre => genre.name).join(', ')}</p>\n          </div>\n          <div></div>\n        </MovieDetalisStyle>\n      )}\n      {!error && (\n        <MovieDetalisMoreInfoLinks>\n          <li>\n            <Link to=\"cast\">Cast</Link>\n          </li>\n          <li>\n            <Link to=\"reviews\">Reviews</Link>\n          </li>\n        </MovieDetalisMoreInfoLinks>\n      )}\n      <Outlet />\n    </MovieDetalisContainerStyle>\n  );\n};\n\nexport default MovieDetails;\n","const API_KEY = '7e458b491a16bc45ebacdd0b519bec7c';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nexport const fetchTrendingMovies = () => {\n  return fetch(`${BASE_URL}trending/movie/day?api_key=${API_KEY}`);\n};\n\nexport const fetchMovieByName = value => {\n  return fetch(`${BASE_URL}search/movie?api_key=${API_KEY}&query=${value}`);\n};\n\nexport const fetchMovieById = id => {\n  return fetch(`${BASE_URL}movie/${id}?api_key=${API_KEY}`);\n};\n\nexport const fetchForActors = id => {\n  return fetch(`${BASE_URL}movie/${id}/credits?api_key=${API_KEY}`);\n};\n\nexport const fetchToReviews = id => {\n  return fetch(`${BASE_URL}movie/${id}/reviews?api_key=${API_KEY}`);\n};"],"names":["MovieDetalisStyle","styled","_templateObject","_taggedTemplateLiteral","MovieDetalisContainerStyle","MovieDetalisMoreInfoLinks","_film$genres","params","useParams","_useState","useState","_useState2","_slicedToArray","film","setFilmId","location","useLocation","_useState3","_useState4","lastPage","setLastPage","_useState5","_useState6","error","setError","useEffect","pathname","includes","state","from","fetchMovieById","movieId","then","resp","ok","Error","json","data","Object","keys","length","catch","err","console","_jsxs","children","_jsx","Link","to","src","concat","poster_path","alt","title","Number","parseInt","release_date","Math","round","vote_average","overview","genres","map","genre","name","join","Outlet","API_KEY","BASE_URL","fetchTrendingMovies","fetch","fetchMovieByName","value","id","fetchForActors","fetchToReviews"],"sourceRoot":""}