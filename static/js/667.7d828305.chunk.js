"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[667],{667:function(n,e,t){t.r(e),t.d(e,{default:function(){return v}});var r,c,o,i=t(439),a=t(689),s=t(87),u=t(791),d=t(152),h=t(168),p=t(867),l=p.zo.div(r||(r=(0,h.Z)(["\n  display: flex;\n  align-items: start;\n  column-gap: 20px;\n  margin-top: 20px;\n"]))),f=p.zo.div(c||(c=(0,h.Z)(["\n  padding-top: 140px;\n  ul {\n    list-style: none;\n  }\n"]))),x=p.zo.ul(o||(o=(0,h.Z)(["\n  box-shadow: 0px 2px 1px rgba(46, 47, 66, 0.08),\n    0px 1px 1px rgba(46, 47, 66, 0.16), 0px 1px 6px rgba(46, 47, 66, 0.08);\n  padding-top: 15px;\n  padding-bottom: 15px;\n"]))),m=t(184),v=function(){var n,e=(0,a.UO)(),t=(0,u.useState)(null),r=(0,i.Z)(t,2),c=r[0],o=r[1],h=(0,a.TH)(),p=(0,u.useState)(""),v=(0,i.Z)(p,2),j=v[0],w=v[1],g=(0,u.useState)(""),b=(0,i.Z)(g,2),k=b[0],y=b[1];return(0,u.useEffect)((function(){h.pathname.includes("cast")||h.pathname.includes("reviews")||(h.state&&h.state.from?w(h.state.from):w("/"))}),[h]),(0,u.useEffect)((function(){y(""),(0,d.Mc)(e.movieId).then((function(n){if(!n.ok)throw y("Sorry, something went wrong"),new Error("Network response was not ok");return n.json()})).then((function(n){if(0===Object.keys(n).length)throw y("Sorry, we don't know this film "),new Error("Film data not found");o(n)})).catch((function(n){return console.error(n)}))}),[e.movieId]),(0,m.jsxs)(f,{children:[(0,m.jsx)(s.rU,{to:k?"/":j,children:"Go back"}),k&&(0,m.jsx)("h3",{children:k}),c&&(0,m.jsxs)(l,{children:[(0,m.jsx)("img",{src:"https://image.tmdb.org/t/p/w400/".concat(c.poster_path),alt:c.title}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("h2",{children:[c.title," (",Number.parseInt(c.release_date),")"]}),(0,m.jsxs)("p",{children:["User score: ",Math.round(10*c.vote_average),"%"]}),(0,m.jsx)("h3",{children:"Overview"}),(0,m.jsx)("p",{children:c.overview}),(0,m.jsx)("h4",{children:"Genres"}),(0,m.jsx)("p",{children:null===(n=c.genres)||void 0===n?void 0:n.map((function(n){return n.name})).join(", ")})]}),(0,m.jsx)("div",{})]}),!k&&(0,m.jsxs)(x,{children:[(0,m.jsx)("li",{children:(0,m.jsx)(s.rU,{to:"cast",children:"Cast"})}),(0,m.jsx)("li",{children:(0,m.jsx)(s.rU,{to:"reviews",children:"Reviews"})})]}),(0,m.jsx)(a.j3,{})]})}},152:function(n,e,t){t.d(e,{E3:function(){return i},Mc:function(){return a},SU:function(){return u},ZR:function(){return s},wr:function(){return o}});var r="7e458b491a16bc45ebacdd0b519bec7c",c="https://api.themoviedb.org/3/",o=function(){return fetch("".concat(c,"trending/movie/day?api_key=").concat(r))},i=function(n){return fetch("".concat(c,"search/movie?api_key=").concat(r,"&query=").concat(n))},a=function(n){return fetch("".concat(c,"movie/").concat(n,"?api_key=").concat(r))},s=function(n){return fetch("".concat(c,"movie/").concat(n,"/credits?api_key=").concat(r))},u=function(n){return fetch("".concat(c,"movie/").concat(n,"/reviews?api_key=").concat(r))}}}]);
//# sourceMappingURL=667.7d828305.chunk.js.map