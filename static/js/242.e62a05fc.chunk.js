"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[242],{242:function(t,n,e){e.r(n),e.d(n,{default:function(){return y}});var r,c,o=e(439),i=e(791),u=e(168),a=e(867),s=a.zo.form(r||(r=(0,u.Z)(["\n  padding-top: 140px;\n  display: flex;\n  justify-content: center;\n  column-gap: 20px;\n"]))),f=e(689),h=e(184),l=function(){var t=(0,i.useState)(""),n=(0,o.Z)(t,2),e=n[0],r=n[1],c=(0,f.s0)();return(0,h.jsxs)(s,{onSubmit:function(t){if(t.preventDefault(),e.trim()){var n=e.trim().toLowerCase();c("/movies?query=".concat(n)),r("")}else alert("Please, write anything")},children:[(0,h.jsx)("input",{onChange:function(t){var n=t.target.value;r(n)},value:e}),(0,h.jsx)("button",{type:"submit",children:"Search"})]})},m=e(87),d=a.zo.ul(c||(c=(0,u.Z)(["\n  list-style: none;\n"]))),p=function(t){var n=t.movies,e=(0,f.TH)();return(0,h.jsx)(d,{children:n.map((function(t){return(0,h.jsx)("li",{children:(0,h.jsx)(m.rU,{to:"/movies/".concat(t.id),state:"".concat(e.pathname).concat(e.search),children:t.title})},t.id)}))})},v=e(152),y=function(){var t=(0,i.useState)([]),n=(0,o.Z)(t,2),e=n[0],r=n[1],c=(0,i.useState)(""),u=(0,o.Z)(c,2),a=u[0],s=u[1],f=(0,m.lr)(),d=(0,o.Z)(f,2),y=d[0],g=d[1],w=y.get("query");return(0,i.useEffect)((function(){w&&(0,v.E3)(w).then((function(t){if(!t.ok)throw s("Sorry, something went wrong"),new Error;return t.json()})).then((function(t){if(0===t.results.length)throw s("Sorry, nothing found"),new Error;r(t.results.map((function(t){return{title:t.title,id:t.id}})))})).catch((function(t){return console.log(t)}))}),[w]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l,{setSearchText:function(t){return g({query:t})}}),a&&(0,h.jsx)("h3",{children:a}),!a&&e.length>0&&(0,h.jsx)(p,{movies:e})]})}},152:function(t,n,e){e.d(n,{E3:function(){return i},Mc:function(){return u},SU:function(){return s},ZR:function(){return a},wr:function(){return o}});var r="7e458b491a16bc45ebacdd0b519bec7c",c="https://api.themoviedb.org/3/",o=function(){return fetch("".concat(c,"trending/movie/day?api_key=").concat(r))},i=function(t){return fetch("".concat(c,"search/movie?api_key=").concat(r,"&query=").concat(t))},u=function(t){return fetch("".concat(c,"movie/").concat(t,"?api_key=").concat(r))},a=function(t){return fetch("".concat(c,"movie/").concat(t,"/credits?api_key=").concat(r))},s=function(t){return fetch("".concat(c,"movie/").concat(t,"/reviews?api_key=").concat(r))}}}]);
//# sourceMappingURL=242.e62a05fc.chunk.js.map